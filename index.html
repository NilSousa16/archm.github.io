<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Documentation Overview</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <header>
    <h1>Documentation Overview</h1>
    <p>Your guide to understanding the system.</p>
  </header>
  <div class="container">
    <nav>
      <h2>Menu</h2>
      <ul>
        <li><a href="#introduction">1. Introduction</a>
          <ul>
            <li><a href="#goal">1.1 Goal</a></li>
            <li><a href="#scope">1.2 Scope</a></li>
            <li><a href="#definitions">1.3 Definitions, Acronyms and Abbreviations</a></li>
            <li><a href="#architecture-requirements">1.4 Architecture Requirements</a>
              <ul>
                <li><a href="#functional-requirements">1.4.1 Functional Requirements</a></li>
                <li><a href="#non-functional-requirements">1.4.2 Non-Functional Requirements</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#architectural-representation">2. Architectural Representation</a>
          <ul>
            <li><a href="#management-requirements">2.1 Management Requirements</a></li>
            <li><a href="#architectural-entities">2.2 Architectural Entities</a></li>
            <li><a href="#smart-city-solution">2.3 Smart City Solution and Composition of Smart City Solutions</a></li>
            <li><a href="#functional-components">2.4 Functional Components</a></li>
            <li><a href="#layers-of-archm">2.5 Layers of the ArchM</a></li>
          </ul>
        </li>
        <li><a href="#device-layer">3. Device Layer</a>
          <ul>
            <li><a href="#gateway">3.1 Gateway</a></li>
            <li><a href="#sensor">3.2 Sensor</a></li>
            <li><a href="#actuator">3.3 Actuator</a></li>
            <li><a href="#protocols-device-communication">3.4 Protocols for Device Communication</a></li>
            <li><a href="#device-communication-archm">3.5 Device Communication in ArchM</a></li>
          </ul>
        </li>
        <li><a href="#communication-layer">4. Communication Layer</a>
          <ul>
            <li><a href="#communication-module">4.1 Communication Module</a></li>
            <li><a href="#action-module">4.2 Action Module</a></li>
            <li><a href="#communication-standard">4.3 Communication Standard</a></li>
          </ul>
        </li>
        <li><a href="#monitoring">5. Monitoring</a>
          <ul>
            <li><a href="#device-monitoring">5.1 Device Monitoring</a></li>
            <li><a href="#data-processing">5.2 Data Processing</a></li>
          </ul>
        </li>
        <li><a href="#maintenance">6. Maintenance</a>
          <ul>
            <li><a href="#hardware-software-maintenance">6.1 Hardware and Software Maintenance</a></li>
            <li><a href="#device-control">6.2 Device Control</a></li>
            <li><a href="#device-access">6.3 Device Access</a></li>
          </ul>
        </li>
        <li><a href="#analysis">7. Analysis</a>
          <ul>
            <li><a href="#device-analysis-smart-solution">7.1 Device Analysis in Smart Solution</a></li>
            <li><a href="#data-processing-analysis">7.2 Data Processing</a></li>
            <li><a href="#view-generator">7.3 View Generator</a></li>
            <li><a href="#device-analysis-smart-composition">7.4 Device Analysis in Smart Composition</a></li>
            <li><a href="#information-aggregator">7.5 Information Aggregator</a></li>
          </ul>
        </li>
        <li><a href="#fault-identification-layer">8. Fault Identification Layer</a>
          <ul>
            <li><a href="#fault-identification-smart-solution">8.1 Fault Identification in Devices within the Smart Solution</a></li>
            <li><a href="#strategy-analyzer">8.2 Strategy Analyzer</a></li>
            <li><a href="#scenario-generator">8.3 Scenario Generator</a></li>
            <li><a href="#fault-identification-smart-composition">8.4 Fault Identification in Devices within the Smart Composition</a></li>
          </ul>
        </li>
        <li><a href="#intervention-layer">9. Intervention Layer</a>
          <ul>
            <li><a href="#intervention-smart-solution">9.1 Intervention in Devices the Smart Solution</a></li>
            <li><a href="#intervention-generator">9.2 Intervention Generator</a></li>
            <li><a href="#intervention-analysis">9.3 Intervention Analysis</a></li>
            <li><a href="#intervention-smart-composition">9.4 Intervention on Devices in the Smart Composition</a></li>
            <li><a href="#maintenance-intervention">9.5 Maintenance by Intervention</a></li>
          </ul>
        </li>
        <li><a href="#storage-layer">10. Storage Layer</a>
          <ul>
            <li><a href="#management-data-storage">10.1 Management Data Storage</a></li>
            <li><a href="#management-data-recover">10.2 Management Data Recover</a></li>
            <li><a href="#data-sharing">10.3 Data Sharing</a></li>
            <li><a href="#storage-base-search">10.4 Storage Base Search</a></li>
          </ul>
        </li>
        <li><a href="#references">References</a></li>
      </ul>
    </nav>
    <main>
      <section id="overview">
        <h2>Overview</h2>
        <p>This documentation provides an introduction to the system's architecture, features, and usage. It serves as a starting point for new users and a reference for experienced developers.</p>
      </section>
      <section id="features">
        <h2>Features</h2>
        <ul>
          <li>Modular and scalable architecture</li>
          <li>Extensive API documentation</li>
          <li>Seamless integration with existing tools</li>
        </ul>
      </section>
      <section id="setup">
        <h2>Setup</h2>
        <p>To get started, follow these steps:</p>
        <ol>
          <li>Download the latest version from the official website.</li>
          <li>Install the required dependencies.</li>
          <li>Run the setup script to configure the system.</li>
        </ol>
      </section>
      <section id="introduction">
        <h2>1. Introduction</h2>
        <p><strong>Smart Cities</strong> can be defined as urban centers that utilize digital <strong>data-driven technologies</strong> to optimize public services and increase <strong>resource use efficiency</strong>. A <strong>Smart City</strong> is composed of six main components: <strong>smart governance</strong>, <strong>smart economy</strong>, <strong>smart citizens</strong>, <strong>smart mobility</strong>, <strong>smart environment</strong>, and <strong>smart quality of life</strong>.</p>

        <p>As <strong>Internet of Things (IoT)</strong> technologies advance, <strong>Smart Cities</strong> benefit from these innovations by providing more <strong>efficient services</strong> and optimizing <strong>resource usage</strong>. Generally, <strong>IoT</strong> is oriented towards <strong>technological infrastructure</strong>, while <strong>Smart Cities</strong> focus on meeting users' needs. However, both share the goal of improving <strong>urban services</strong>.</p>

        <p>The implementation of <strong>IoT</strong> in <strong>Smart Cities</strong>, as in other contexts, is associated with the use of an extensive <strong>hardware infrastructure</strong> composed of <strong>heterogeneous devices</strong>. This diversity is necessary for monitoring various environments, such as <strong>parks</strong>, <strong>parking lots</strong>, <strong>buildings</strong>, <strong>traffic</strong>, and <strong>atmospheric conditions</strong>. For example, in a park, specific <strong>sensors</strong> may be employed to monitor <strong>humidity</strong>, <strong>temperature</strong>, <strong>gases in the air</strong>, the <strong>presence of people</strong>, and the control of <strong>public lighting</strong>. This scenario highlights the significant number of devices required in <strong>IoT infrastructures</strong> for <strong>Smart City solutions</strong>.</p>

        <p>Another relevant aspect is the <strong>heterogeneity</strong> of <strong>IoT infrastructures</strong>, which involves a wide variety of <strong>devices</strong> and <strong>communication protocols</strong>. Each device may have different <strong>processing capabilities</strong> and adopt varying <strong>communication standards</strong>, resulting in a lack of <strong>standardization</strong> across solutions. Combined with the large volume of devices, the <strong>management</strong>, <strong>monitoring</strong>, and <strong>maintenance</strong> of the availability and efficiency of these infrastructures become a significant challenge.</p>

        <p>In light of this, to ensure the availability and proper functioning of <strong>devices</strong> and the <strong>IoT infrastructure</strong>, remote <strong>monitoring</strong> and <strong>control</strong> of these devices are essential without overburdening <strong>operational resources</strong>. This enables the continuous operation of various <strong>services</strong> offered by <strong>Smart Cities</strong> and ensures the high availability of the <strong>IoT infrastructure</strong>.</p>

        <p>To achieve this goal, the development of <strong>management mechanisms</strong> capable of handling the specific characteristics of <strong>IoT infrastructures</strong> in the context of <strong>Smart Cities</strong> becomes necessary. This development must take into account the particularities and complexities of these environments. The creation of a dedicated <strong>architecture</strong> for <strong>device management</strong> can significantly contribute to ensuring the proper functioning and <strong>maintenance</strong> of these infrastructures.</p>

      </section>

      <section id="goal">
        <h2>1.1 Goal</h2>
        <p>This document aims to provide a comprehensive overview of the proposed architecture for managing IoT infrastructures in the context of Smart Cities, termed <strong>Integrated Architecture for IoT Device Management in Smart Cities (ArchM)</strong>.
        </p>

      </section>

      <section id="scope">
        <h2>1.2 Scope</h2>
        <p>The architecture described in this document is applicable to the management of <b>IoT devices</b> across various technological solutions aimed at <b>Smart Cities</b>. The utilization of its principles and methods will contribute to the <b>organization</b> and <b>standardization</b> of IoT device management processes in different scenarios. Furthermore, the adoption of <b>ArchM</b> will enable managerial <b>integration</b> and <b>collaboration</b> among multiple solutions, fostering greater <b>efficiency</b> and <b>interoperability</b>.</p>
      </section>

      <section id="definitions">
        <h2>1.3 Definitions, Acronyms and Abbreviations</h2>
        <p>This section presents some of the most common terms and their meanings, which are used in the architecture description.
        </p>
        <ul>
          <li><strong>Integrated Architecture for IoT Device Management in Smart Cities (ArchM)</strong> - Architecture for IoT Device Management in the Context of Smart Cities.</li>
          <li><strong>Smart City Solution</strong>, or simply <strong>Smart Solution (SS)</strong> - IoT solution for a specific area or need within a city.</li>
          <li><strong>Composition of Solutions Smart Cities</strong> or <strong>Smart Composition (SC)</strong> - Refers to a set of Smart Solutions (SS) managed collectively as if they were a single Smart Solution.</li>
          <li><strong>IoT Environment</strong> - Corresponds to an IoT solution deployed in a Smart City.</li>
          <li><strong>Management System (MS)</strong> - Software responsible for managing Smart Solutions and Smart Compositions.</li>
          <li><strong>Entity</strong> - Anything within a Smart Solution or Smart Composition that can be managed.</li>
        </ul>

        <p>Other terms and definitions relevant to the development of the architecture can be accessed via the link below.</p>

        <ul>
          <li><a href="https://docs.google.com/document/d/1FYA6EgDaxulQ_Imz72AHeSQvzOrn6Pk8vEb1gaff8-M/edit?tab=t.0" target="_blank">1.0.0 - Definitions according to ISO/IEC 30141:2018</a></li>
        </ul>

      </section>

      <section id="architecture-requirements">
        <h2>1.4 Architecture Requirements</h2>
        <p><strong>The Integrated Architecture for IoT Device Management in Smart Cities</strong> is designed for managing IoT infrastructures in solutions implemented in Smart Cities. This architecture provides a framework for the development and enhancement of IoT device management systems. Its development began with a requirements gathering process that identified the needs to be addressed by the architecture.</p>

        <p>To ensure a clear and consistent view of the architecture, high-level requirements are specified according to the following elements:</p>

        <ul>
          <li><strong>Identifier</strong>: represents the unique ID and title of the requirement;</li>
          <li><strong>Name</strong>: short title of the requirement;</li>
          <li><strong>Description</strong>: provides a summary of the functionality;</li>
          <li><strong>Impact</strong>: discusses the relevance of the requirement to the architecture;</li>
        </ul>

      </section>

      <section id="functional-requirements">
        <h2>1.4.1 Functional Requirements</h2>
        <p>Functional requirements are organized into high-level requirements, followed by functionalities specified in greater detail. The table below presents, in a simplified manner, the identified functional and non-functional requirements.
        </p>

        <table>
          <tr>
            <th>ID</th>
            <td>RF-001</td>
          </tr>
          <tr>
            <th>Name</th>
            <td><strong>Device monitoring in the infrastructure of an IoT solution for smart cities</strong></td>
          </tr>
          <tr>
            <th>Description</th>
            <td>The manager must monitor all devices present in the infrastructure of an IoT solution.</td>
          </tr>
          <tr>
            <th>Impact</th>
            <td>Allows administrators and management software to view the status of the devices that comprise the infrastructure of an IoT solution.</td>
          </tr>
        </table>

        <table>
          <tr>
            <th>ID</th>
            <td>RF-002</td>
          </tr>
          <tr>
            <th>Name</th>
            <td><strong>Management data storage</strong></td>
          </tr>
          <tr>
            <th>Description</th>
            <td>Enable the persistence and retrieval of management data in available databases, including cloud, local servers, and devices.</td>
          </tr>
          <tr>
            <th>Impact</th>
            <td>Allows administrators and management software to query management data to identify potential failures and opportunities for improvement.</td>
          </tr>
        </table>

        <table>
          <tr>
            <td><strong>ID</strong></td>
            <td>RF-003</td>
          </tr>
          <tr>
            <td><strong>Name</strong></td>
            <td>Management data sharing</td>
          </tr>
          <tr>
            <td><strong>Description</strong></td>
            <td>
              The manager must be able to share management data across different infrastructures, enabling more comprehensive managerial analysis and evaluation.
            </td>
          </tr>
          <tr>
            <td><strong>Impact</strong></td>
            <td>
              Provides the capability for comprehensive management, where infrastructures from different solutions can interact with the aim of optimizing management.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <th><strong>ID</strong></th>
            <td>RF-004</td>
          </tr>
          <tr>
            <th><strong>Name</strong></th>
            <td>Device control</td>
          </tr>
          <tr>
            <th><strong>Description</strong></th>
            <td>
              The manager must provide restricted control over certain functionalities of all devices in the infrastructure remotely, aiming for the configuration, maintenance, and optimization of existing resources.
            </td>
          </tr>
          <tr>
            <th><strong>Impact</strong></th>
            <td>
              Enables flexibility in manipulating devices for managerial activities, as well as assisting in reducing the need for on-site device support.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <th><strong>ID</strong></th>
            <td>RF-005</td>
          </tr>
          <tr>
            <th><strong>Name</strong></th>
            <td>Analysis of devices from one or more IoT solution infrastructures for smart cities</td>
          </tr>
          <tr>
            <th><strong>Description</strong></th>
            <td>
              The manager must allow the use of historical management data from devices to generate analyses on the efficiency of the infrastructure of one or more solutions.
            </td>
          </tr>
          <tr>
            <th><strong>Impact</strong></th>
            <td>
              Based on the results, this enables the identification of the infrastructure's effectiveness and the formulation of strategies for improving the overall performance of the solutions.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <th><strong>ID</strong></th>
            <td>RF-006</td>
          </tr>
          <tr>
            <th><strong>Name</strong></th>
            <td>Identification of problems in devices in the infrastructure of one or more IoT solutions for smart cities</td>
          </tr>
          <tr>
            <th><strong>Description</strong></th>
            <td>
              The manager must provide resources that enable the identification of issues in the infrastructure of one or more solutions, aiming to detect situations that may compromise the proper functioning of these solutions.
            </td>
          </tr>
          <tr>
            <th><strong>Impact</strong></th>
            <td>
              Enables increased availability of the solutions' infrastructure, as this requirement allows for the identification and correction of failures.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <th><strong>ID</strong></th>
            <td>RF-007</td>
          </tr>
          <tr>
            <th><strong>Name</strong></th>
            <td><strong>Intervention in the infrastructure of IoT solutions for smart cities</strong></td>
          </tr>
          <tr>
            <th><strong>Description</strong></th>
            <td>
              The manager must allow control over critical functions of the devices to correct any potential failures that may occur. This control should also enable access to functionalities that allow, for example, firmware updates for a device.
            </td>
          </tr>
          <tr>
            <th><strong>Impact</strong></th>
            <td>
              Enables increased availability of the solutions' infrastructure, as it allows for the implementation of measures to correct failures.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <th><strong>ID</strong></th>
            <td>RF-008</td>
          </tr>
          <tr>
            <th><strong>Name</strong></th>
            <td><strong>Maintenance of devices in the infrastructure of one or more IoT solutions for smart cities</strong></td>
          </tr>
          <tr>
            <th><strong>Description</strong></th>
            <td>
              The manager must provide resources for performing preventive or corrective maintenance on the infrastructure of the solution in which it is installed. This maintenance may include the reinstallation or updating of software, disabling devices for security reasons, among other actions.
            </td>
          </tr>
          <tr>
            <th><strong>Impact</strong></th>
            <td>
              Enables the maintenance of the infrastructure, directly influencing the availability and operational efficiency of the solution.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <th><strong>ID</strong></th>
            <td>RF-009</td>
          </tr>
          <tr>
            <th><strong>Name</strong></th>
            <td><strong>Communication between entities</strong></td>
          </tr>
          <tr>
            <th><strong>Description</strong></th>
            <td>
              The manager must allow communication between different devices across one or more infrastructures, aiming for the sharing of management information.
            </td>
          </tr>
          <tr>
            <th><strong>Impact</strong></th>
            <td>
              Communication between devices aids in the sharing of management data across the infrastructures of different solutions, enabling the formulation of strategies that optimize the availability of these solutions.
            </td>
          </tr>
        </table>

      </section>

      <section id="non-functional-requirements">
        <h2>1.4.2 Non-Functional Requirements</h2>
        <p>The table below presents the specified non-functional requirements in a format comprising the fields: ID, Name, and Description.</p>

        <table>
          <tr>
            <td><strong>ID</strong></td>
            <td>RNF-001</td>
          </tr>
          <tr>
            <td><strong>Name</strong></td>
            <td>Manager impact</td>
          </tr>
          <tr>
            <td><strong>Description</strong></td>
            <td>
              The manager must enable monitoring, control, maintenance, and fault correction within the infrastructures, ensuring the proper functioning of IoT solutions deployed in Smart Cities.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <td><strong>ID</strong></td>
            <td>RNF-002</td>
          </tr>
          <tr>
            <td><strong>Name</strong></td>
            <td>Manager scalability</td>
          </tr>
          <tr>
            <td><strong>Description</strong></td>
            <td>
              The manager must ensure that its functionalities are executed independently of the number of devices that comprise the infrastructure of an IoT solution deployed in a Smart City.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <td><strong>ID</strong></td>
            <td>RNF-003</td>
          </tr>
          <tr>
            <td><strong>Name</strong></td>
            <td>Initialization of the functions of the MS (Management System)</td>
          </tr>
          <tr>
            <td><strong>Description</strong></td>
            <td>
              The manager must ensure that each device in the infrastructure is managed from the moment of its initialization. In other words, the manager is responsible for autonomously initiating all management routines.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <td><strong>ID</strong></td>
            <td>RNF-004</td>
          </tr>
          <tr>
            <td><strong>Name</strong></td>
            <td>Access to the MS (Management System)</td>
          </tr>
          <tr>
            <td><strong>Description</strong></td>
            <td>
              The manager must ensure access to its functionalities for all individuals (administrators or systems) with granted access. Furthermore, it must ensure that each individual has access only to the set of functionalities corresponding to their user type.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <td><strong>ID</strong></td>
            <td>RNF-005</td>
          </tr>
          <tr>
            <td><strong>Name</strong></td>
            <td>Use resources of MS (Management System)</td>
          </tr>
          <tr>
            <td><strong>Description</strong></td>
            <td>
              The manager must be responsible for providing access to all management resources that enable the effective administration of the IoT infrastructure of a solution for Smart Cities.
            </td>
          </tr>
        </table>

        <table>
          <tr>
            <td><strong>ID</strong></td>
            <td>RNF-006</td>
          </tr>
          <tr>
            <td><strong>Name</strong></td>
            <td>Interoperability</td>
          </tr>
          <tr>
            <td><strong>Description</strong></td>
            <td>
              The manager must ensure the capability to communicate with various types of devices and communication protocols.
            </td>
          </tr>
        </table>

        <p>For more details on each presented requirement, refer to the description of the requirements needed for management, as outlined in document <a href="https://docs.google.com/document/d/1jkB7BfKCrgEtPrRdeMi9I42XPvUB-_iqxFUna0yoGFc/edit?tab=t.0"><strong>2.0 Requirements.</strong></a>
        </p>
      </section>

      <section id="architectural-representation">
        <h2>2. Architectural Representation</h2>
        <p>The <strong>Integrated Architecture for IoT Device Management in Smart Cities (ArchM)</strong> is an architecture described in this document, aimed at enabling the development of platforms for managing devices that make up the infrastructure of Internet of Things (IoT) solutions in the context of <strong>Smart Cities.</strong>
        </p>
        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figura%201%20-%20Overview%20of%20Infrastructure%20in%20Smart%20Cities.png" alt="Descrição da imagem">
          <p class="image-description"><strong>Figura 1 - Overview of Infrastructure in Smart Cities</strong></p>
        </div>

        <p>In <strong>Figure 1</strong>, it can be observed that a <strong>Smart City</strong> is composed of various distinct solutions, which often operate in isolation. Each of these solutions has its own characteristics, such as types and quantities of devices, communication protocols, running software, and data storage structures.</p>

        In this context, <strong>ArchM</strong> organizes management into two parts: the <strong>Smart City Solution</strong>, or simply <strong>Smart Solution (SS)</strong>, and the <strong>Composition of Smart Cities Solutions</strong>, or <strong>Smart Composition (SC)</strong>. <strong>SS</strong> refers to a specific solution for a <strong>Smart City</strong>, such as traffic monitoring on a highway, managed in isolation from <strong>ArchM</strong> perspective. On the other hand, <strong>SC</strong> represents a set of <strong>SS</strong>, meaning a group of <strong>Smart City</strong> solutions that are managed as a single solution.

        </p>

      </section>

      <section id="management-requirements">
        <h2>2.1 Management Requirements</h2>
        <p>
          <strong>ArchM</strong> must meet certain management requirements, considered essential for the effective management of IoT infrastructures in <strong>Smart Cities</strong>. For this purpose, the <strong>ISO/IEC 30141:2018</strong> and <strong>ISO/IEC 20924:2018</strong> standards were used in defining these requirements. The requirements are as follows:
        </p>

        <ul>
          <li>
            <strong>Separation of Functional and Management Capabilities:</strong> All management resources must operate independently of functional resources.
          </li>
          <li>
            <strong>Heterogeneity:</strong> Management must be prepared to handle devices and systems with diverse characteristics.
          </li>
          <li>
            <strong>Highly Distributed Systems:</strong> Management must be capable of handling the high distribution of devices and systems that may exist.
          </li>
          <li>
            <strong>Scalability:</strong> Management must be maintained even as the number of devices connected to IoT systems increases.
          </li>
          <li>
            <strong>Resource Sharing:</strong> The manager must utilize resource sharing among devices and systems to ensure the efficient operation of the entire infrastructure.
          </li>
        </ul>

      </section>

      <section id="architectural-entities">
        <h2>2.2 Architectural Entities</h2>
        <p>
          This section presents the entities that are part of the scope covered by <strong>ArchM</strong>. In this context, architectural entities refer to the components present in IoT solutions that may be part of the set of elements involved in management, either as managed elements or as managing elements.
        </p>

        <p>
          These elements were defined based on the <strong>ISO/IEC 30141:2018</strong> standard, which presents a reference architecture for the Internet of Things. However, in the implementation of a manager utilizing <strong>ArchM</strong>, there may be changes in the relationships or usage of the entities. <strong>Figure 2</strong> presents the conceptual model of <strong>ISO/IEC 30141:2018</strong>, showing the relationships among the entities present in IoT solutions.
        </p>

        <p>
          The colored classes represent the elements deemed relevant from the conceptual model of <strong>ISO/IEC 30141:2018</strong> for management in <strong>ArchM</strong>. In <strong>Figure 2</strong>, these elements are highlighted in distinct colors, allowing for clear visual identification. The meanings of each of these elements are presented below:
        </p>

        <ul>
          <li><strong>Green:</strong> represents the physical entities that may be managed.</li>
          <li><strong>Yellow:</strong> corresponds to the software used for management, always considering the separation between functional and management software.</li>
          <li><strong>Blue:</strong> related to all forms of storage for management information.</li>
          <li><strong>Orange:</strong> refers to the management platform based on ArchM that may exist within Smart Solutions.</li>
        </ul>

        <p>
          The architectural elements defined for management in <strong>ArchM</strong> adhere to some of the guidelines established in <strong>ISO/IEC 30141:2018</strong>. These elements include:
        </p>

        <ul>
          <li>
            <strong>Gateway:</strong> responsible for connecting devices to the network or the internet, as well as abstracting the heterogeneity of the devices.
          </li>
          <li>
            <strong>Device:</strong> a hardware component that may consist of sensors and/or actuators.
          </li>
          <li>
            <strong>Sensor:</strong> a hardware component used to capture environmental information.
          </li>
          <li>
            <strong>Actuator:</strong> a hardware component responsible for making modifications to the environment in which it is situated.
          </li>
          <li>
            <strong>Services<sup>¹</sup>:</strong> a software component tasked with data capture, environmental interaction, and communication.
          </li>
        </ul>

        <p class="footnote">
          <strong>¹</strong> The minimum management is performed on the services (software) existing within an IoT infrastructure, as the primary focus is on the management of devices.
        </p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%202%20-%20Conceptual%20Model%20of%20ISO_IEC%2030141%3A2018.png" style="max-width: 70%; display: block; margin: 0 auto;" alt="Descrição da imagem">
          <p class="image-description"><strong>Figure 2 - Conceptual Model of ISO/IEC 30141:2018</strong></p>
        </div>

      </section>

      <section id="smart-city-solution">
        <h2>2.3 Smart City Solution and Composition of Smart City Solutions</h2>
        <p>
          <strong>The Smart City Solution</strong>, or <strong>Smart Solution (SS)</strong>, is an IoT solution developed to address a specific need of a <strong>Smart City</strong>, such as vehicle traffic solutions, smart parking, or smart buildings. Each <strong>Smart City Solution</strong> consists of the following entities: devices, gateways, sensors, actuators, services, and data storage.
        </p>

        <p>
          <strong>The Smart Manager (SM)</strong> refers to any service used for managing the entities within a <strong>Smart City Solution</strong>, which forms part of the management platform based on <strong>ArchM</strong>. It is important to note that not all solutions in a Smart City have an SM, as shown in <strong>Figure 3</strong>.
        </p>

        <p>
          <strong>The Composition of Smart City Solutions</strong>, or <strong>Smart Composition (SC)</strong>, is the combination of two or more <strong>SS</strong> in terms of management. This means that, despite the variety of <strong>SS</strong> in the management platform, there is a single group of elements that need to be managed. However, this is only feasible for <strong>SS</strong> that are already managed by an <strong>SM</strong>, as shown in <strong>Figure 3</strong>, which illustrates four <strong>SCs</strong>.
        </p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%203%20-%20Organization%20of%20SS%20SC%20and%20SM.png" style="max-width: 90%; display: block; margin: 0 auto;" alt="Descrição da imagem">
          <p class="image-description"><strong>Figure 3 - Organization of SS, SC, and SM</strong></p>
        </div>

        <p>
          <strong>The Composition of Smart City Solutions</strong>, or <strong>Smart Composition (SC)</strong>, is the combination of two or more <strong>SS</strong> in terms of management. This means that, despite the variety of <strong>SS</strong> in the management platform, there is a single group of elements that need to be managed. However, this is only feasible for <strong>SS</strong> that are already managed by an <strong>SM</strong>, as shown in <strong>Figure 3</strong>, which illustrates four <strong>SCs</strong>.
        </p>

      </section>

      <section id="functional-components">
        <h2>2.4 Functional Components</h2>
        <p>
          <strong>Figure 4</strong> presents a use case diagram that illustrates all the functionalities and relationships within the architecture, defined based on the identified functional and non-functional requirements. In this figure, groups of functionalities are highlighted by different colors. These groups are referred to as functional components and will form the layers of the <strong>ArchM</strong>, which will be presented in <strong>Section 2.4</strong>.
        </p>

        <p>
          Next, a brief description of each functionality of the architecture illustrated in Figure 4 will be presented.
        </p>

        <ul>
          <li><strong>UC-002 Device Registration:</strong> Responsible for registering devices for management.</li>
          <li><strong>UC-005 Device Monitoring:</strong> Constantly monitors registered devices.</li>
          <li><strong>UC-007 Data Storage Management:</strong> Provides and executes routines for storing management data.</li>
          <li><strong>UC-008 Data Recovery Management:</strong> Provides and executes routines for recovering management data.</li>
          <li><strong>UC-009 Access DB Resources:</strong> Allows third parties to access collected management data and other database resources.</li>
          <li><strong>UC-010 Data Sharing in Smart City Solution:</strong> Enables data sharing between Smart City Solutions.</li>
          <li><strong>UC-011 Resource Sharing in Smart City Solution:</strong> Allows resource sharing between Smart City Solutions.</li>
          <li><strong>UC-014 Device Control:</strong> Provides routines that allow control of parameters of devices within Smart City Solutions.</li>
          <li><strong>UC-015 Device Access:</strong> Grants access only to entities (users, systems, etc.) with the appropriate privileges.</li>
          <li><strong>UC-017 Device Analysis in Smart City Solution:</strong> Responsible for building scenarios from monitoring data that reflect the status of devices in the Smart City Solution.</li>
          <li><strong>UC-019 Device Analysis in Smart Composition:</strong> Constructs scenarios from monitoring data of various Smart City Solutions, reflecting the overall status of the devices that make up the Smart Composition.</li>
          <li><strong>UC-021 Device Problem Identification in Smart City Solution:</strong> Identifies problems or abnormalities in devices within a Smart City Solution.</li>
          <li><strong>UC-023 Device Problem Identification in Smart Composition:</strong> Identifies potential failures in the set of devices forming the Smart Composition based on device analysis data.</li>
          <li><strong>UC-025 Device Intervention in the Smart City Solution:</strong> Manipulates devices within the Smart City Solution to prevent identified anomalies.</li>
          <li><strong>UC-027 Intervention in Smart Composition Devices:</strong> Manipulates the set of devices that form the Smart Composition to prevent identified anomalies.</li>
          <li><strong>UC-029 Device Maintenance:</strong> Allows changes (has more privileges than device control) that enable restoration and/or optimization of devices.</li>
          <li><strong>UC-031 Communication Between MS (Management System):</strong> Enables communication between Smart City Solutions, Smart Composition, and other entities.</li>
        </ul>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%204%20-%20Functional%20Components.png" alt="Descrição da imagem" style="max-width: 90%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 4 - Functional Components</strong></p>
        </div>

        <p>Some of the functionalities have been detailed in different use cases and sequence diagrams, which can be accessed through the following links:
        </p>
        <ul>
          <li><a href="https://drive.google.com/drive/folders/1E0DRxkLAK7VXFN6sfEdmQ7kpURrUlGcN?usp=sharing" target="_blank"><strong>Use Case Diagrams</strong></a></li>
          <li><a href="https://drive.google.com/drive/folders/1to1ECBPZk_MoYnGQw-CWcQ3QrT6qzkLI?usp=sharing" target="_blank"><strong>Sequence Diagrams</strong></a></li>
        </ul>

      </section>

      <section id="layers-of-archm">
        <h2>2.5 Layers of the ArchM</h2>
        <p>
          The components shown in <strong>Figure 4</strong> are used to define the layers present in the <strong>ArchM</strong>. However, some layers may be omitted depending on the implementation needs of a platform. Thus, each <strong>Smart Solution</strong> will have its own set of <strong>ArchM</strong> layers implemented.
        </p>
        <p>
          For each layer, a specific set of functionalities is proposed based on the group of functionalities presented in <strong>Figure 4</strong>, in which all or part of the functionalities may be implemented in the management platforms. <strong>Figure 5</strong> presents the layers of the architecture proposed in this work. Each layer is described, along with its functionalities, throughout this document.
        </p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%205%20-%20Layers%20of%20the%20ArchM.png" alt="Descrição da imagem" style="max-width: 50%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 5 - Layers of the ArchM</strong></p>
        </div>

        <ul>
          <li>
            <p><strong>Devices:</strong> Set of physical or virtual assets that need to be managed.</p>
          </li>
          <li>
            <p><strong>Communication:</strong> Responsible for connecting any assets to the management system.</p>
          </li>
          <li>
            <p><strong>Monitoring:</strong> In charge of capturing management data from all assets.</p>
          </li>
          <li>
            <p><strong>Maintenance:</strong> Responsible for performing preventive and corrective actions aimed at preserving the operation of the managed infrastructure.</p>
          </li>
          <li>
            <p><strong>Analysis:</strong> Component that uses management data to create situational overviews of the infrastructure of the solutions.</p>
          </li>
          <li>
            <p><strong>Problem Identification:</strong> Uses the information generated by the analysis component to identify possible issues in the infrastructure of a solution.</p>
          </li>
          <li>
            <p><strong>Intervention:</strong> Allows activities to be carried out with the aim of correcting problems that have occurred or may occur in the infrastructure.</p>
          </li>
          <li>
            <p><strong>Storage:</strong> Responsible for storing all management information from the devices that are part of the infrastructure, as well as storing information generated by other layers of the architecture.</p>
          </li>
        </ul>
        <p>
          From this point on, the following topics describe each layer of the architecture, as well as its functionalities.
        </p>

      </section>

      <section id="device-layer">
        <h2>3. Device Layer</h2>
        <p>The device layer encompasses all types of physical assets that can be managed within an IoT infrastructure. In the <strong>ArchM</strong>, a device is defined as any hardware component connected to a Smart Solution that requires management.</p>
        <p>In the <strong>ArchM</strong>, gateways, sensors, and actuators are considered basic devices for management purposes. Additionally, a device can be composed of these basic devices. In this situation, the composite component is treated as a single unit for management purposes.</p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%206%20-%20Types%20of%20Devices%20and%20Organization.png" alt="Descrição da imagem" style="max-width: 60%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 6 - Types of Devices and Organization</strong></p>
        </div>

      </section>

      <section id="gateway">
        <h2>3.1 Gateway</h2>
        <p><strong>Gateways</strong> are robust and complex devices equipped with significant processing power and storage capacity compared to simpler devices like sensors and actuators. As illustrated in <strong>Figure 6</strong>, gateways serve to connect devices that lack direct communication capability with the Internet.</p>

        <p>In the context of <strong>ArchM</strong>, as shown in <strong>Figure 6</strong>, gateways are responsible for executing functions that involve a certain degree of complexity. This enables the creation of functionality sets that can be distributed throughout a <strong>Smart City</strong>. The management resources that may exist in a gateway are described below:</p>

        <ul>
          <li><strong>Communication:</strong> The gateway is responsible for providing resources that allow devices without direct means of connecting to the infrastructure to communicate. Thus, the gateway acts as a bridge, mapping the device's communication protocol to an Internet communication protocol.</li>
          <li><strong>Data Processing:</strong> Due to its greater processing capacity, the gateway can offer resources to process the management data received from devices before sending it. This includes treatments such as aggregation and filtering, among others.</li>
          <li><strong>Service Execution:</strong> The gateway is also used to execute resources, allowing for the distribution of management services across various gateways within a Smart Solution.</li>
          <li><strong>Device Control:</strong> This functionality enables the control of devices connected to the gateway, allowing for remote changes, such as firmware updates, activation or deactivation of devices, and other operations.</li>
          <li><strong>Storage:</strong> The storage capacity of gateways is utilized to persist the most recent management data for two purposes: first, to allow accumulated data to be sent in a single message; and second, to ensure that only relevant data is sent.</li>
        </ul>

      </section>

      <section id="sensor">
        <h2>3.2 Sensor</h2>
        <p>Any device that has the ability to capture data from the environment in which it is placed for use by the <strong>Smart Solution</strong> is considered a <strong>sensor</strong> in the <strong>ArchM</strong>. Sensors can vary in type, but generally, they are simple devices and have different forms of connectivity. In the <strong>ArchM</strong>, the sensor is a basic device that is always connected to a <strong>gateway</strong>, as illustrated in <strong>Figure 6</strong>.</p>

      </section>

      <section id="actuator">
        <h2>3.3 Actuator</h2>
        <p>The <strong>actuator</strong> is a device that has the ability to make changes to the physical environment in which it is placed. Like <strong>sensors</strong>, actuators can vary in type and have different forms of communication. Although they may be more complex than sensors, they still require a <strong>gateway</strong> to connect to the internet, as shown in <strong>Figure 6</strong>.</p>

      </section>

      <section id="protocols-device-communication">
        <h2>3.4 Protocols for Device Communication</h2>
        <p>The devices present in <strong>IoT solutions</strong>, including those used in <strong>Smart Cities</strong>, exhibit a wide variety of characteristics, such as different communication, processing, and storage capabilities. This diversity creates the need to adopt methods that make these differences irrelevant during the development of platforms for managing such devices.</p>

        <p>Therefore, it is necessary to utilize protocols that adapt to the characteristics of the devices and are highly reliable to ensure efficient communication. Traditional protocols, such as those used on the web, may not be suitable for IoT devices. Below, we present some protocols that can be utilized by IoT devices:</p>

        <p><strong>Constrained Application Protocol (CoAP):</strong> Designed for constrained devices (with low energy, memory, and computing capabilities), such as sensor nodes, allowing the capture of values read by the devices. It utilizes the UDP protocol and supports multicast for IoT applications [1].</p>

        <p><strong>Message Queuing Telemetry Transport (MQTT):</strong> An open messaging protocol based on the publish/subscribe paradigm, used for lightweight communications. MQTT employs a client/server model, collecting data from sensors and sending it to a server (broker) [2].</p>

        <p><strong>Advanced Message Queuing Protocol (AMQP):</strong> An application layer protocol used to transfer information between applications or organizations. AMQP transmits data as a byte stream and supports reliability, flow control, authentication, among others [3].</p>

        <p><strong>The Accessible Thing Universe - TATU:</strong> A protocol that extends MQTT, standardizing messages for communication between devices and gateways [4].</p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%207%20-%20Device%20Layer%20and%20Communication.png" alt="Descrição da imagem" style="max-width: 60%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 7 - Device Layer and Communication</strong></p>
        </div>

        <p>These are examples of protocols used in the <strong>device layer</strong>. Thus, for the architecture development, it was necessary to define a layer that supports various protocols. <strong>Figure 7</strong> illustrates the device layer and its interaction with the <strong>communication layer</strong>.</p>

        <p><strong>Figure 7</strong> illustrates some of the communication methods that devices can use within a <strong>Smart Solution</strong>. It is noted that <strong>ArchM</strong> does not impose restrictions on the communication methods of the devices, which is an essential feature in the context of <strong>Smart Cities</strong> due to the diversity of devices employed in different solutions.</p>

      </section>

      <section id="device-communication-archm">
        <h2>3.5 Device Communication in ArchM</h2>
        <p><strong>ArchM</strong> will be applied in the creation of management platforms for IoT solutions in different scenarios within <strong>Smart Cities</strong>. This will standardize communication between various solutions, facilitating the sharing of management information. To achieve this goal, the communication protocol must implement appropriate message structures. <strong>Figure 8</strong> presents an example of how standardization in communication between a sensor and an IoT gateway can be achieved.</p>

        <p>As illustrated in <strong>Figure 8</strong>, a device initiates its communication with the <strong>gateway</strong> (which allows its connection to the internet) by sending its basic management information, essential for identification and registration. Additionally, the device also transmits sensory data along with the management data. This approach takes advantage of the opportunity to send both sensory and management data in a single packet, optimizing transmission.</p>

        <p>In a second instance, only the sensory data is sent, accompanied by the <strong>sensor identifier</strong>. With this identifier, it is possible to recognize which devices are connected to the gateway and fully operational. In the first transmission, the device also includes a timer, indicating the need to send information every 1000 milliseconds. This allows the gateway to detect the device's disconnection if it does not send data within this time interval.</p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%208%20-%20Device%20Communication.png" alt="Descrição da imagem" style="max-width: 45%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 8 - Device Communication</strong></p>
        </div>

        <p>There is a continuous need for communication between the gateway and the device. Therefore, the gateway must be capable of sending commands to the connected devices. It is recommended to use protocols such as <strong>TATU</strong>, which extends <strong>MQTT</strong> and standardizes communication messages between IoT devices and gateways, using <strong>JSON</strong> notation.</p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%209%20-%20Device%20Operations.png" alt="Descrição da imagem" style="max-width: 45%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 9 - Device Operations </strong></p>
        </div>

        <p>The <strong>TATU</strong> protocol offers three specific methods for interacting with devices:</p>

        <ul>
          <li><strong>GET:</strong> Collects real-time information from the device, without a defined periodicity.</li>
          <li><strong>SET:</strong> Allows for the alteration of device settings, as defined by another component.</li>
          <li><strong>FLOW:</strong> Requests data to be sent periodically every N seconds.</li>
        </ul>

        <p>These operations allow for both the transmission of management information and the execution of management commands.</p>

        <p><strong>Figure 9</strong> illustrates the dynamics of executing the <strong>TATU</strong> protocol. It presents three distinct moments, each related to one of the mentioned operations, considering that the device is already properly connected to the gateway.</p>

        <p>In <strong>Figure 9</strong>, the gateway makes a <strong>GET</strong> request, asking for the type of sensor, as seen in the device's response. In addition to the sensor type, the response also includes the ID and the value of the sensor, taking the opportunity to send this management information during regular communication.</p>

        <p>In the second moment, a <strong>SET</strong> request is made, which, although not detailed in <strong>Figure 9</strong>, is processed by the device without returning a result. This could represent an internal operation, such as temporarily disabling the device, for example.</p>

        <p>Finally, the <strong>FLOW</strong> operation will request that management parameters be sent to the gateway every time the sensor information is transmitted. However, if no information is sent within a predefined time interval, a specific message should be triggered, containing only the requested management data. This approach ensures that the gateway continues to receive critical management data even when sensor data is not transmitted regularly.</p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%2010%20-%20Communication%20Layer.png" alt="Descrição da imagem" style="max-width: 60%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 10 - Communication Layer</strong></p>
        </div>

      </section>

      <section id="communication-layer">
        <h2>4. Communication Layer</h2>
        <p>The communication layer is responsible for managing all traffic of managerial information. To achieve this, it must be capable of supporting the various forms of communication possible in an IoT solution for <strong>Smart Cities</strong>. <strong>Figure 10</strong> presents the main modules of this layer and their interactions with the other components of the architecture.</p>

        <p>In <strong>Figure 10</strong>, it can be observed that the communication layer is composed of two main modules: the communication module and the action module. The communication module is responsible for providing interfaces that allow communication between different devices using their respective protocols. In turn, the action module is responsible for enabling access from the various layers to the devices.</p>

      </section>

      <section id="communication-module">
        <h2>4.1 Communication Module</h2>
        <p>As the module responsible for communication between different types of devices, this module must implement interfaces for each communication protocol used in the device layer. This allows for management operations such as <strong>GET</strong>, <strong>SET</strong>, and <strong>FLOW</strong> to be performed for any communication protocol.</p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%2011%20-%20Communication%20and%20actuation%20modules.png" alt="Descrição da imagem" style="max-width: 60%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 11 - Communication and actuation modules</strong></p>
        </div>

        <p><strong>Figure 11</strong> details the interaction of the communication layer with the device, monitoring, maintenance, and intervention layers. First, devices send data through their standard protocols. Then, the communication module, which provides communication interfaces—represented by the <strong>MQTT</strong> and <strong>AMQP</strong> modules—captures the messages. Finally, the module extracts the management data, assembles a message in the appropriate format, and sends it to the monitoring layer. The same process occurs in the reverse direction, meaning from the upper layers to the devices.</p>

        <p><strong>Figure 12</strong> demonstrates the message conversion operation. Initially, the message contains a variety of information, including sensing and management data. After passing through the communication layer, the message is altered. In the modified message, only the necessary management information for the monitoring layer is included at the second stage.</p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%2012%20-%20Sending%20a%20message%20with%20management%20data.png" alt="Descrição da imagem" style="max-width: 60%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 12 - Sending a message with management data</strong></p>
        </div>

      </section>

      <section id="action-module">
        <h2>4.2 Action Module</h2>
        <p>The action module is responsible for enabling the other layers to communicate with the devices. As shown in <strong>Figure 10</strong>, in the <strong>ArchM</strong>, the monitoring, maintenance, and intervention layers are directly connected to the communication layer.</p>

        <p>Given the wide variety of existing devices, the communication module is also tasked with handling the conversion of commands sent by the monitoring, maintenance, and intervention layers to the devices. Thus, when the command reaches the action module, it is converted to the standard and communication format accepted by the device.
        </p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%2013%20-%20Sending%20command%20to%20device.png" alt="Descrição da imagem" style="max-width: 60%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 13 - Sending command to device</strong></p>
        </div>

        <p>The <strong>Figure 13</strong> presents the sequence of steps taken to execute a command sent to the communication layer. After sending a command to the device, the communication layer identifies the command and the device responsible for its execution. Then, it performs the conversion of the command, if necessary, to the standard accepted by the device. When the device receives the command, it is executed.</p>

      </section>

      <section id="communication-standard">
        <h2>4.3 Communication Standard</h2>
        <p>As described, communication can be carried out through different protocols. However, it will be necessary to implement basic routines for communication in the context of management for each protocol used. From this point, a generic overview will be provided on how each of the basic communication operations should be conducted within a <strong>Smart Solution</strong>.</p>

        <p>The operations can be divided into two categories: requests, which include two types—data request (<strong>GET</strong>) and flow request (<strong>FLOW</strong>) — and modifications (<strong>SET</strong>), which perform alteration operations on devices.</p>

        <p>The <strong>GET</strong> operation is responsible for requesting management data from devices. This data can be sent in standard sensing messages, either opportunistically or not. However, there may be a variation of the <strong>GET</strong> request for messages to be sent immediately. <strong>Figure 14</strong> details the execution of the management data request from a server to a device.</p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%2014%20-%20Sending%20command%20from%20server%20to%20device.png" alt="Descrição da imagem" style="max-width: 60%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 14 - Sending command from server to device</strong></p>
        </div>

        In <strong>Figure 14</strong>, each step of the execution is numbered, and the messages are detailed. Initially, a management server issues a <strong>GET</strong> request. It identifies the following parameters: 'type_request', 'id_gateway', 'id_device', 'command', and 'immediate'.

        <ul>
          <li><strong>type_request:</strong> indicates the type of request being made to the device (<strong>GET, FLOW, SET</strong>).</li>
          <li><strong>id_gateway:</strong> contains the identification of the gateway that connects the device to the Internet (depending on the <strong>Smart Solution</strong>, this parameter may be omitted).</li>
          <li><strong>id_device:</strong> contains the identifier of the device that is to execute the command.</li>
          <li><strong>command:</strong> identifies the command to be executed by the device (<strong>RESET, TIME_ON, STATUS, INFO</strong>).</li>
          <li><strong>immediate:</strong> specifies how the response should be handled, indicating whether the response should be embedded in a sensing message or sent as a separate message.</li>
        </ul>

        <p>The communication layer intercepts the command sent from the server at the second stage. At this point, the message is converted into the format accepted by the device and then forwarded. In the third stage, there is a difference in the format of the message adapted to the device. It contains the following parameters:
        </p>

        <ul>
          <li><strong>request:</strong> identifies the type of request made to the device (<strong>GET, FLOW, POST</strong>).</li>
          <li><strong>command:</strong> this parameter contains the execution instructions for the device. It can have different variations depending on the device's protocol. In <strong>Figure 14</strong>, the command has two parameters: <strong>instruction</strong>, which specifies what is being requested, and <strong>immediate</strong>, which indicates how the response will be carried out.</li>
          <li><strong>timeout:</strong> indicates the device's response time, needed to determine whether the message was delivered and executed. If the time is exceeded, it is inferred that the message was not delivered.</li>
        </ul>

        <p>In <strong>Figure 14</strong>, moment five shows the response being sent. One of the parameters in the message body contains the response data. It also includes information on the temperature (sensing data) and the device status (management data). This is due to the parameter <strong>immediate</strong>: “false”, indicating that management data should be sent along with the sensing messages, thereby reducing the number of messages on the network. The parameters in the <strong>status</strong> are described below.</p>

        <ul>
          <li><strong>timestamp:</strong> identifies the moment when the management data was captured.</li>
          <li><strong>mode:</strong> identifies the device's operational mode at that time (<strong>OPERATIONAL</strong>, <strong>FAILURE</strong>, <strong>TEST</strong>, <strong>MAINTENANCE</strong>).</li>
          <li><strong>flow:</strong> indicates whether the sensing data is being sent via a stream.</li>
          <li><strong>power:</strong> displays data on the device's power consumption.</li>
        </ul>

        <p>At moment six, the message is converted to the Internet communication standard, with a clear separation between the management data and the sensing data. The converted message is shown in moment six of <strong>Figure 14</strong>, where the control parameters are also presented, containing only the management data requested by the server.</p>

        <p>The <strong>FLOW</strong> operation is responsible for requesting management data from devices, similar to the <strong>GET</strong> operation. However, in this operation, a continuous flow of management data from the device is maintained at pre-determined intervals. <strong>Figure 15</strong> presents a generic example of the <strong>FLOW</strong> operation in use.</p>

        <p>Like the <strong>GET</strong> operation, the <strong>FLOW</strong> operation follows the same first four steps, with differences starting from step five. However, in steps one and three, a new parameter can be observed: <strong>time</strong>, which indicates the time interval for sending each message. It is important to note that, when using the <strong>FLOW</strong> operation, multiple requests are unnecessary, as management information is continuously sent.</p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%2015%20-%20Sending%20the%20flow%20command%20from%20the%20server%20to%20the%20device.png" alt="Descrição da imagem" style="max-width: 60%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 15 - Sending the flow command from the server to the device
            </strong></p>
        </div>

        <p>At moment seven, presented in <strong>Figure 15</strong>, the operation is divided into two parts. In moment 7A, after a certain amount of data is sent from the device to the communication layer — represented by moments five and six in <strong>Figure 15</strong> — the data is aggregated into a single message to be subsequently sent to the server. In moment 7B, the aggregated management data is presented in a single message to the server. It is worth noting that the aggregation shown is a generalization of what may occur, and in an implemented platform using the logic for the <strong>FLOW</strong> operation, the aggregation, message format, and other parameters may vary.</p>

        <p>The <strong>SET</strong> operation is designed to make modifications to devices in a Smart Solution, addressing both hardware and software aspects. On the hardware side, configurations like the state of an actuator (on/off) can be changed. On the software side, adjustments such as data collection intervals, operational modes, and firmware updates or modifications can be carried out. The <strong>SET</strong> operation, when sent from a server, is similar to the previously discussed <strong>GET</strong> and <strong>FLOW</strong> operations. <strong>Figure 16</strong> provides a generic example of how the <strong>SET</strong> operation is used.</p>

        <div class="image-container">
          <img src="https://raw.githubusercontent.com/NilSousa16/archm.github.io/main/Figures/Figure%2016%20-%20Configuration%20command%20sent%20from%20server%20to%20device.png" alt="Descrição da imagem" style="max-width: 60%; display: block; margin: 0 auto;">
          <p class="image-description"><strong>Figure 16 - Configuration command sent from server to device</strong></p>
        </div>

        <p>At first, in <strong>Figure 16</strong>, it is observed that a <strong>SET</strong> request is sent, indicating that a modification should be made in a <strong>Smart Solution</strong>. Information about the gateway and the device that will execute the command is also sent; in this case, for the device shutdown.</p>

        <p>In the second stage, similar to the <strong>GET</strong> and <strong>FLOW</strong> operations, the request is converted by the communication layer into the communication standard accepted by the device. Then, in the third stage, the converted message is sent to the device. In the converted request, it is noted that only the identification of the operation type and the details of the command to be executed are present. In the fourth stage, the command is successfully executed by the device. It is important to note that this illustration does not show details about execution errors or communication failures.</p>

      </section>

      <section id="monitoring">
        <h2>5. Monitoring</h2>
        <p>Overview of the monitoring processes and methods.</p>
      </section>

      <section id="device-monitoring">
        <h2>5.1 Device Monitoring</h2>
        <p>Details on how devices are monitored within the system.</p>
      </section>

      <section id="data-processing">
        <h2>5.2 Data Processing</h2>
        <p>Explanation of the data processing flow in the system.</p>
      </section>

      <section id="maintenance">
        <h2>6. Maintenance</h2>
        <p>Overview of the maintenance processes for the system.</p>
      </section>

      <section id="hardware-software-maintenance">
        <h2>6.1 Hardware and Software Maintenance</h2>
        <p>Details about the maintenance of both hardware and software components.</p>
      </section>

      <section id="device-control">
        <h2>6.2 Device Control</h2>
        <p>Explanation of how devices are controlled within the system.</p>
      </section>

      <section id="device-access">
        <h2>6.3 Device Access</h2>
        <p>Details on how device access is managed and secured.</p>
      </section>

      <section id="analysis">
        <h2>7. Analysis</h2>
        <p>Overview of the analysis conducted within the system.</p>
      </section>

      <section id="device-analysis-smart-solution">
        <h2>7.1 Device Analysis in Smart Solution</h2>
        <p>Details on device analysis in the smart solution context.</p>
      </section>

      <section id="data-processing-analysis">
        <h2>7.2 Data Processing</h2>
        <p>Details of data processing analysis and its methods.</p>
      </section>

      <section id="view-generator">
        <h2>7.3 View Generator</h2>
        <p>Overview of the view generator functionality in the system.</p>
      </section>

      <section id="device-analysis-smart-composition">
        <h2>7.4 Device Analysis in Smart Composition</h2>
        <p>Explanation of device analysis in the context of smart composition.</p>
      </section>

      <section id="information-aggregator">
        <h2>7.5 Information Aggregator</h2>
        <p>Details about the information aggregator in the system.</p>
      </section>

      <section id="fault-identification-layer">
        <h2>8. Fault Identification Layer</h2>
        <p>Overview of the fault identification layer in the architecture.</p>
      </section>

      <section id="fault-identification-smart-solution">
        <h2>8.1 Fault Identification in Devices within the Smart Solution</h2>
        <p>Explanation of fault identification in devices in the smart solution.</p>
      </section>

      <section id="strategy-analyzer">
        <h2>8.2 Strategy Analyzer</h2>
        <p>Details about the strategy analyzer component.</p>
      </section>

      <section id="scenario-generator">
        <h2>8.3 Scenario Generator</h2>
        <p>Overview of the scenario generator used for fault identification.</p>
      </section>

      <section id="fault-identification-smart-composition">
        <h2>8.4 Fault Identification in Devices within the Smart Composition</h2>
        <p>Details of fault identification in devices within the smart composition.</p>
      </section>

      <section id="intervention-layer">
        <h2>9. Intervention Layer</h2>
        <p>Overview of the intervention layer and its purpose.</p>
      </section>

      <section id="intervention-smart-solution">
        <h2>9.1 Intervention in Devices the Smart Solution</h2>
        <p>Details of intervention in devices within the smart solution.</p>
      </section>

      <section id="intervention-generator">
        <h2>9.2 Intervention Generator</h2>
        <p>Overview of the intervention generator and its functionality.</p>
      </section>

      <section id="intervention-analysis">
        <h2>9.3 Intervention Analysis</h2>
        <p>Explanation of intervention analysis in the system.</p>
      </section>

      <section id="intervention-smart-composition">
        <h2>9.4 Intervention on Devices in the Smart Composition</h2>
        <p>Details on intervention in devices within the smart composition.</p>
      </section>

      <section id="maintenance-intervention">
        <h2>9.5 Maintenance by Intervention</h2>
        <p>Details about maintenance by intervention processes.</p>
      </section>

      <section id="storage-layer">
        <h2>10. Storage Layer</h2>
        <p>Overview of the storage layer in the architecture.</p>
      </section>

      <section id="management-data-storage">
        <h2>10.1 Management Data Storage</h2>
        <p>Details about how data is stored and managed in the system.</p>
      </section>

      <section id="management-data-recover">
        <h2>10.2 Management Data Recover</h2>
        <p>Explanation of how data recovery is managed within the system.</p>
      </section>

      <section id="data-sharing">
        <h2>10.3 Data Sharing</h2>
        <p>Overview of the data sharing functionality in the system.</p>
      </section>

      <section id="storage-base-search">
        <h2>10.4 Storage Base Search</h2>
        <p>Details of the storage base search and how it is implemented.</p>
      </section>

      <section id="references">
        <h2>References</h2>
        <p>List of references used in the documentation.</p>
      </section>

    </main>
  </div>
  <footer>
    <p>&copy; 2024 Your Company. All rights reserved.</p>
  </footer>
</body>

</html>
